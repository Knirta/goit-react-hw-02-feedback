(this["webpackJsonpgoit-react-hw-02-feedback"]=this["webpackJsonpgoit-react-hw-02-feedback"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(8),o=n.n(r),s=(n(14),n(2)),i=n(7),b=n(3),u=n(9),j=n.n(u),l=n(0),d=function(e){var t=e.children;return Object(l.jsx)("div",{className:j.a.Container,children:t})},O=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:"Sip Happens Caf\xe9"}),Object(l.jsx)("p",{children:"Please leave your feedback about our service by selecting one of the options below."})]})},f=n(4),p=n.n(f),x=function(e){var t=e.options,n=e.onLeaveFeedback,c=e.total,a=e.onReset;return Object(l.jsxs)("div",{className:p.a.Wrap,children:[t.map((function(e){return Object(l.jsx)("button",{type:"button",className:p.a.Option,onClick:function(){return n(e)},children:e},e)})),c>0&&Object(l.jsx)("button",{className:p.a.Option,onClick:a,children:"Reset"})]})},h=n(5),v=n.n(h),k=function(e){var t=e.feedbacks,n=e.total,c=e.positivePercentage;return Object(l.jsxs)(l.Fragment,{children:[t.map((function(e){var t=Object(b.a)(e,2),n=t[0],c=t[1];return Object(l.jsxs)("p",{className:v.a.Text,children:[n,": ",Object(l.jsx)("span",{children:c})]},n)})),Object(l.jsxs)("p",{className:v.a.Text,children:["Total: ",n]}),Object(l.jsxs)("p",{className:v.a.Text,children:["Positive feedbacks: ",c,"%"]})]})},g=function(e){var t=e.children;return Object(l.jsx)("p",{children:t})},m=function(){var e=Object(c.useState)((function(){var e=window.localStorage.getItem("feedbacks");return e?JSON.parse(e):{good:0,neutral:0,bad:0}})),t=Object(b.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){window.localStorage.setItem("feedbacks",JSON.stringify(n))}),[n]);var r=function(){return Object.values(n).reduce((function(e,t){return e+t}),0)},o=Object.keys(n),u=Object.entries(n),j=r(),f=function(){var e=r(),t=parseInt(n.good/e*100);return e?t:0}();return Object(l.jsxs)(d,{children:[Object(l.jsx)(O,{}),Object(l.jsx)(x,{options:o,onLeaveFeedback:function(e){a((function(t){return Object(i.a)(Object(i.a)({},n),{},Object(s.a)({},e,t[e]+1))}))},total:j,onReset:function(){a({good:0,neutral:0,bad:0})}}),j?Object(l.jsx)(k,{feedbacks:u,total:j,positivePercentage:f}):Object(l.jsx)(g,{children:"No feedback yet"})]})};o.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(m,{})}),document.getElementById("root"))},4:function(e,t,n){e.exports={Option:"Options_Option__3v04M",Wrap:"Options_Wrap__2P1t9"}},5:function(e,t,n){e.exports={Text:"Feedback_Text__1qah8"}},9:function(e,t,n){e.exports={Container:"Container_Container__wJ-3l"}}},[[16,1,2]]]);
//# sourceMappingURL=main.f5e70b59.chunk.js.map